import{_ as N,a as B}from"./BqyPgoFw.js";import{D as M,j as C,r as d,E as F,c as r,o as l,v as n,b as A,G as S,a as e,t as c,B as f,d as h,F as V,q as z,s as D}from"./sukT2Jaj.js";import"./BTNR3dwP.js";const E={class:"min-h-screen text-white bg-gray-900"},W={class:"relative z-10 flex flex-col items-center max-w-6xl gap-10 mx-auto md:flex-row"},I=["src"],K={class:"max-w-2xl"},R={class:"mb-4 text-5xl font-bold"},Y={class:"mb-6 leading-relaxed text-gray-300"},q={class:"mb-6 text-sm opacity-80"},G={class:"flex flex-wrap gap-4"},L={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/90"},P={class:"relative w-full max-w-4xl px-4 aspect-video"},H=["src"],J={key:2,class:"px-10 py-16 bg-black"},O={class:"mx-auto",style:{width:"90%"}},Q={class:"grid grid-cols-2 gap-6 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"},U=["src"],X={class:"absolute inset-0 flex flex-col justify-end p-4 text-white transition-opacity duration-300 opacity-0 bg-black/80 group-hover:opacity-100"},Z={class:"mb-1 font-semibold text-md"},ee={class:"mb-1 text-sm font-bold text-yellow-400"},te={class:"mb-3 text-xs text-gray-300 line-clamp-3"},se={class:"flex gap-3"},oe=["onClick"],_="34b375ac60c16f0529d57330d1a45460",ne={__name:"[id]",setup(ae){const g=M(),x=C(),a=d(null),u=d([]),p=d(null),v=d(!1),w=async s=>{const t=await fetch(`https://api.themoviedb.org/3/movie/${s}?api_key=${_}`);a.value=await t.json()},y=s=>{x.push(`/movie/${s}`),window.scrollTo({top:0,behavior:"smooth"})},k=async s=>{const i=await(await fetch(`https://api.themoviedb.org/3/movie/${s}/similar?api_key=${_}`)).json();u.value=i.results||[]},$=async s=>{const i=await(await fetch(`https://api.themoviedb.org/3/movie/${s}/videos?api_key=${_}`)).json(),o=(Array.isArray(i.results)?i.results:[]).find(m=>m.type==="Trailer"&&m.site==="YouTube");p.value=o?o.key:null},T=async()=>{await $(g.params.id),v.value=!0},j=()=>{v.value=!1};return F(()=>g.params.id,async s=>{s&&(await w(s),await k(s))},{immediate:!0}),(s,t)=>{const i=N,b=B;return l(),r("div",E,[a.value?(l(),r("div",{key:0,class:"relative px-10 py-32 bg-center bg-cover",style:S({backgroundImage:`url(https://image.tmdb.org/t/p/original${a.value.backdrop_path})`})},[t[2]||(t[2]=e("div",{class:"absolute inset-0 bg-black/70"},null,-1)),e("div",W,[e("img",{src:`https://image.tmdb.org/t/p/w500${a.value.poster_path}`,alt:"poster",class:"shadow-2xl rounded-2xl w-72"},null,8,I),e("div",K,[e("h1",R,c(a.value.title),1),e("p",Y,c(a.value.overview),1),e("p",q," ⭐ "+c(a.value?.vote_average?a.value.vote_average.toFixed(1):"N/A"),1),e("div",G,[t[1]||(t[1]=e("button",{class:"px-8 py-3 font-semibold transition-all bg-red-600 hover:bg-red-700 rounded-xl"},[e("i",{class:"fa-solid fa-play"}),h(" Watch Now ")],-1)),e("button",{class:"px-8 py-3 font-semibold transition-all bg-gray-700 hover:bg-gray-600 rounded-xl",onClick:T},[...t[0]||(t[0]=[e("i",{class:"fa-brands fa-youtube"},null,-1),h(" Watch Trailer ",-1)])]),a.value?.id&&a.value?.poster_path?(l(),f(i,{key:0,movie:a.value},null,8,["movie"])):n("",!0)])])])],4)):n("",!0),v.value?(l(),r("div",L,[e("div",P,[p.value?(l(),r("iframe",{key:0,src:`https://www.youtube.com/embed/${p.value}`,frameborder:"0",allowfullscreen:"",class:"w-full h-full shadow-lg rounded-xl"},null,8,H)):n("",!0),e("button",{onClick:j,class:"absolute p-2 text-white rounded-full top-2 right-2 bg-white/20 hover:bg-white/40"}," ✖ ")])])):n("",!0),u.value.length?(l(),r("div",J,[t[4]||(t[4]=e("h2",{class:"mb-8 text-3xl font-bold text-center"},"Similar Movies",-1)),e("div",O,[e("div",Q,[(l(!0),r(V,null,z(u.value,o=>(l(),r("div",{key:o.id,class:"relative overflow-hidden shadow-lg cursor-pointer rounded-xl group"},[e("img",{src:`https://image.tmdb.org/t/p/w500${o.poster_path}`,alt:"poster",class:"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105"},null,8,U),e("div",X,[e("h3",Z,c(o.title),1),e("p",ee," ⭐ "+c(o.vote_average),1),e("p",te,c(o.overview),1),e("div",se,[e("button",{onClick:D(m=>y(o.id),["stop"]),class:"w-full py-2 text-sm text-white bg-red-600 rounded hover:bg-red-700"},[...t[3]||(t[3]=[e("i",{class:"fa-solid fa-play"},null,-1),h(" Watch Now ",-1)])],8,oe),o&&o.poster_path?(l(),f(i,{key:0,movie:o},null,8,["movie"])):n("",!0)])])]))),128))])])])):n("",!0),A(b)])}}};export{ne as default};
