import{_ as G,a as K}from"./BqyPgoFw.js";import{_ as L,j as P,r as a,l as S,p as U,c as r,o as i,a as o,b as h,d as x,A as y,F as w,q as k,t as c,w as j,B as D,v as I,s as R,m as $,n as C}from"./sukT2Jaj.js";import"./BTNR3dwP.js";const Y={class:"px-10 py-10 text-white bg-black"},q={class:"flex flex-wrap items-center gap-3 mb-6"},O=["onClick"],W={class:"grid grid-cols-2 gap-4 transition-all duration-500 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6"},H=["src","alt"],J={class:"absolute inset-0 flex flex-col justify-end p-4 transition-opacity duration-300 opacity-0 bg-black/80 group-hover:opacity-100"},Q={class:"mb-1 font-semibold text-md"},X={class:"mb-1 text-sm font-bold text-yellow-400"},Z={class:"mb-3 text-xs text-gray-300 line-clamp-3"},ee={class:"flex gap-3"},te=["onClick"],oe={class:"mt-8 text-center"},se=["disabled"],ae={__name:"movis",setup(ne){const M=P(),g=a([]),n=a(1),d=a(0),u=a(!1),b=a([]),v=a(null),_=a(null);a(null);const B=e=>e?`https://image.tmdb.org/t/p/w500${e}`:"/placeholder-poster.png",N=e=>e?e.toFixed(1):"N/A",z=e=>{if(!e)return"No description available.";const s=120;return e.length>s?e.slice(0,s).trim()+"...":e},A=e=>{M.push(`/movie/${e}`),window.scrollTo({top:0,behavior:"smooth"})},E=async()=>{try{const s=$().public.TMDB_API_KEY,l=await C.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${s}&language=en-US`);b.value=l.data.genres}catch(e){console.error("Error loading genres:",e)}},m=async()=>{try{u.value=!0;const s=$().public.TMDB_API_KEY;let l="";v.value?l=`https://api.themoviedb.org/3/discover/movie?api_key=${s}&language=en-US&page=${n.value}&with_genres=${v.value}`:l=`https://api.themoviedb.org/3/movie/popular?api_key=${s}&language=en-US&page=${n.value}`;const p=await C.get(l);g.value.push(...p.data.results),d.value=p.data.total_pages}catch(e){console.error("Error fetching movies:",e)}finally{u.value=!1}},f=e=>{_.value=e,v.value=e,n.value=1,g.value=[],m()};S(()=>{E(),m()});const F=()=>{n.value<d.value&&(n.value++,m())};return(e,s)=>{const l=U("router-link"),p=G,T=K;return i(),r("section",Y,[s[2]||(s[2]=o("h2",{class:"px-6 text-4xl font-bold text-center mt-7 mb-7"},[x(" All "),o("span",{class:"text-red-600"},"Movies")],-1)),o("div",q,[o("button",{onClick:s[0]||(s[0]=t=>f(null)),class:y(["px-4 py-2 text-sm font-semibold rounded transition",_.value===null?"bg-red-600 text-white":"bg-zinc-800 hover:bg-zinc-700 text-gray-200"])}," All ",2),(i(!0),r(w,null,k(b.value,t=>(i(),r("button",{key:t.id,onClick:V=>f(t.id),class:y(["px-4 py-2 text-sm font-semibold rounded transition",_.value===t.id?"bg-red-600 text-white":"bg-zinc-800 hover:bg-zinc-700 text-gray-200"])},c(t.name),11,O))),128))]),o("div",W,[(i(!0),r(w,null,k(g.value,t=>(i(),r("div",{key:t.id,class:"relative overflow-hidden rounded-lg group bg-zinc-900"},[h(l,{to:`/movie/${t.id}`,class:"block"},{default:j(()=>[o("img",{src:B(t.poster_path),alt:t.title,class:"object-cover w-full transition-transform duration-300 h-72 group-hover:scale-110"},null,8,H)]),_:2},1032,["to"]),o("div",J,[o("h3",Q,c(t.title),1),o("p",X," â­ "+c(N(t.vote_average)),1),o("p",Z,c(z(t.overview)),1),o("div",ee,[o("button",{onClick:R(V=>A(t.id),["stop"]),class:"w-full py-2 text-sm text-white bg-red-600 rounded hover:bg-red-700"},[...s[1]||(s[1]=[o("i",{class:"fa-solid fa-play"},null,-1),x(" Watch Now ",-1)])],8,te),t?.id?(i(),D(p,{key:0,movie:t},null,8,["movie"])):I("",!0)])])]))),128))]),o("div",oe,[o("button",{onClick:F,disabled:u.value||n.value>=d.value,class:"px-4 py-2 text-sm font-semibold transition bg-red-600 rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},c(u.value?"Loading...":n.value<d.value?"Load More":"No More Movies"),9,se)]),h(T)])}}},ce=L(ae,[["__scopeId","data-v-cf7e9ec7"]]);export{ce as default};
